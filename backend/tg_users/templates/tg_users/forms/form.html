<!DOCTYPE html>
{% load static %}
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link href="{%static 'api/css/style.css'%}" rel="stylesheet" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
		<title>Регистрация</title>
	</head>
	<body>
		<div class="container mt-5 pt-5 pb-5">
			<div class="col-md-6 offset-md-3">
				<form id="tg" method="POST">
					{% csrf_token %}
					<div class="form-error">{{ form.non_fields_errors}}</div>
					{% for f in form %} 
						{% if f.label == 'Telegram id'%}
							<label  for="{{ f.id_for_label }}">Telegram id</label>
							<input class="form-control" type="number" value="{{chat_id}}"> <br>
						{% else %}
							<label for="{{ f.id_for_label }}">{{ f.label }}</label>
							{{ f }} <br>
							{% if f.errors %}
								<div class="alert alert-danger">{{f.errors}}</div>
							{% endif %} 
						{% endif %}
					{% endfor %}
					<div class="d-grid gap-2">
						<button type="submit" class="btn btn-primary mt-4">
							Регистрация
						</button>
					</div>
				</form>
			</div>
		</div>
		<script src="{% static 'api/js/tg_id_form.js' %}"></script>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
	</body>
</html>
